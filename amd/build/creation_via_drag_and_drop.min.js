define(["jquery","core/ajax","qtype_programmingtask/edit_editor_content"],function(a,b,c){return{init:function(){var b=this;a("#loadproformataskfilebutton").click(function(){b.extractInformation()})},extractInformation:function(){var d=a("#id_proformataskfileupload").parent(),e=d.find("[name='proformataskfileupload']")[0].value;b.call([{methodname:"qtype_programmingtask_extract_task_infos_from_draft_file",args:{itemid:e},done:function(b){if("undefined"!=typeof b.error)return void a("#id_error_ajaxerrorlabel").parent().children().first().html("<div>"+b.error+"</div>");a("#id_error_ajaxerrorlabel").parent().children().first().html(""),a("#id_name").val(b.title),c.setContents("id_questiontext",b.description),c.setContents("id_internaldescription",b.internaldescription),c.setContentsOfText("id_taskuuid",b.taskuuid);var d="";"undefined"!=typeof b.moodleValidationWarnings&&("undefined"!=typeof b.moodleValidationProformaNamespace?(d="<p>Detected ProFormA-version "+b.moodleValidationProformaNamespace+". Found the following problems during validation but still continued:</p><ul>",b.moodleValidationWarnings.forEach(function(a){d+="<li>"+a+"</li>"}),d+="</ul>"):d="<p>"+b.moodleValidationWarnings+"</p>"),a("#id_error_ajaxwarninglabel").parent().children().first().html(d)},fail:function(b){console.log(b),a("#id_error_ajaxerrorlabel").parent().children().first().html("<div>"+b.debuginfo+"</div><div> For more information see browser console.</div>")}}])}}});