define ("qtype_moopt/creation_via_drag_and_drop",["jquery","core/ajax","qtype_moopt/edit_editor_content"],function(a,b,c){return{init:function init(){var b=this;a("#loadproformataskfilebutton").click(function(){b.extractInformation()})},extractInformation:function extractInformation(){var d=a("#id_proformataskfileupload").parent(),e=d.find("[name='proformataskfileupload']")[0].value;d.find;b.call([{methodname:"qtype_moopt_extract_task_infos_from_draft_file",args:{itemid:e},done:function done(b){if("undefined"!=typeof b.error){a("#id_error_ajaxerrorlabel").parent().children().first().html("<div>"+b.error+"</div>");a("#id_error_ajaxwarninglabel").parent().children().first().html("");return}a("#id_error_ajaxerrorlabel").parent().children().first().html("");a("#id_name").val(b.title);c.setContents("id_questiontext",b.description);c.setContents("id_internaldescription",b.internaldescription);c.setContentsOfText("id_taskuuid",b.taskuuid);c.setContentsOfText("id_defaultmark",b.maxscoregradinghints);c.setContents("id_generalfeedback",b.filesdisplayedingeneralfeedback);var d="";if("undefined"!=typeof b.moodleValidationProformaNamespace){d+="<p>Detected ProFormA-version "+b.moodleValidationProformaNamespace+"</p>"}if("undefined"!=typeof b.moodleValidationWarningInvalidNamespace){d+="<p>"+b.moodleValidationWarningInvalidNamespace+"</p>"}if("undefined"!=typeof b.moodleValidationWarnings){d+="<p>Found the following problems during validation but still continued:</p><ul>";b.moodleValidationWarnings.forEach(function(a){d+="<li>"+a.msg+"</li>"});d+="</ul>"}a("#id_error_ajaxwarninglabel").parent().children().first().html(d);a("#id_name").focus()},fail:function fail(b){console.log(b);a("#id_error_ajaxerrorlabel").parent().children().first().html("<div>"+b.debuginfo+"</div><div> For more information see browser console.</div>");a("#id_error_ajaxwarninglabel").parent().children().first().html("")}}])}}});
//# sourceMappingURL=creation_via_drag_and_drop.min.js.map
