define ("qtype_moopt/pull_grading_status",["core/ajax","core/modal_factory","core/modal_events","core/str"],function(a,b,c,d){var g,h,i=!1;function e(){a.call([{methodname:"qtype_moopt_retrieve_grading_results",args:{qubaid:h},done:function done(a){if(a){f()}},fail:function fail(a){console.log(a)}}])}function f(){if(i){return}i=!0;d.get_strings([{key:"reloadpage",component:"qtype_moopt"},{key:"gradeprocessfinished",component:"qtype_moopt"},{key:"reload",component:"qtype_moopt"}]).then(function(a){b.create({type:b.types.SAVE_CANCEL,title:a[0],body:a[1]}).done(function(b){b.setSaveButtonText(a[2]);b.getRoot().on(c.save,function(){location.reload(!0);i=!1});b.getRoot().on(c.hidden,function(){i=!1});b.show()})})}return{init:function init(a,b,c){document.querySelectorAll("input[name='redoslot"+b+"'").forEach(function(a){a.remove()});h=a;if("undefined"==typeof g){g=setInterval(e,c)}}}});
//# sourceMappingURL=pull_grading_status.min.js.map
